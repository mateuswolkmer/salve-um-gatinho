---
import { getAllPartners } from '../../../api/partners';
import PageSection from '../../PageSection.astro';

const partners = await getAllPartners();
---
<PageSection title="Parceiros">
  <div class="relative max-w-5xl w-full overflow-hidden bg-yellow-300 border-2 border-black rounded-xl p-6">
    <div class="flex gap-24 items-center whitespace-nowrap">
      {[...partners, ...partners].map((partner, i) => (
        <div class="inline-block">
          <img 
            src={partner.image} 
            alt={partner.name} 
            loading='lazy' 
            class="w-32 animate-scroll-item"
            style={`animation-delay: ${i * -7.5}s`}
          />
        </div>
      ))}
    </div>
  </div>
</PageSection>

<style>
  @keyframes scroll-item {
    0% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(-100%);
    }
  }

  .animate-scroll-item {
    animation: scroll-item 15s linear infinite;
  }
</style>