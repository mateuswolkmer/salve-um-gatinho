---
import client from "../../../../tina/__generated__/client";
import type { Cat } from "../../../../tina/__generated__/types";
import { CatsList } from "../../CatsList";
import PageSection from "../../PageSection.astro";

const catsResponse = await client.queries.catConnection();

const allCats = catsResponse.data.catConnection.edges?.map((catResponse) => ({
  ...catResponse?.node as Cat
}));

const newestCats = Array.isArray(allCats) ? allCats.toSpliced(0, 2) : [];
---
<PageSection>
    <CatsList cats={newestCats} client:visible />
</PageSection>

