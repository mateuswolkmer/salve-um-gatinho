---
import client from "../../../../tina/__generated__/client";
import type { Cat } from "../../../../tina/__generated__/types";
import { CatsList } from "../../CatsList";
import PageSection from "../../PageSection.astro";

const catsResponse = await client.queries.catConnection();

const cats = catsResponse.data.catConnection.edges?.map((catResponse) => ({
  ...catResponse?.node as Cat
})).toSpliced(0, 2);
---
<PageSection>
    <CatsList cats={cats} client:visible />
</PageSection>

