---
import { Image } from "astro:assets";
import { ButtonLink } from "./Button";
import FacebookIcon from "../assets/Outras/icons/facebook.svg";
import TwitterIcon from "../assets/Outras/icons/x.svg";
import { twMerge } from "tailwind-merge";

export type Props = {
  class?: string;
  shareText?: string;
};

const { class: classNames, shareText } = Astro.props;

const encodedUrl = encodeURIComponent(Astro.url.href);
const encodedText = encodeURIComponent(shareText);
---

<div class={twMerge("flex gap-2", classNames)}>
  <ButtonLink
    target="_blank"
    href={`https://www.facebook.com/sharer.php?display=page&u=${encodedUrl}`}
    variant="icon"
  >
    <Image
      src={FacebookIcon}
      alt="Compartilhar no Facebook"
      class="h-full w-auto"
    />
  </ButtonLink>
  <ButtonLink
    target="_blank"
    href={`https://twitter.com/share?url=${encodedUrl}&text=${encodedText}`}
    variant="icon"
  >
    <Image
      src={TwitterIcon}
      alt="Compartilhar no X (Twitter)"
      class="h-full w-auto p-1"
    />
  </ButtonLink>
</div>
